@import '@deephaven/components/scss/custom.scss';

.ui-portal-panel {
  display: contents;
}

.ui-object-container {
  display: contents;
  position: relative;
}

.dh-react-panel {
  .dh-inner-react-panel .iris-grid {
    border: 1px solid var(--dh-color-bg);
    border-radius: $border-radius;
  }

  &:has(.dh-inner-react-panel > .iris-grid:only-child),
  &:has(
      .dh-inner-react-panel
        > .ui-object-container:only-child
        > .iris-grid:only-child
    ),
  &:has(.dh-inner-react-panel > .chart-wrapper:only-child) {
    // remove the default panel padding when grid or chart is the only child
    padding: 0 !important; // important required to override inline spectrum style
    .iris-grid {
      border: none;
      border-radius: 0;
    }
  }
}

.error-viewer {
  position: relative;
  textarea {
    width: 100%;
    color: $danger;
    border-radius: $border-radius;
    background-color: negative-opacity($exception-transparency);
    padding: $spacer;
    border: 0;
    resize: none;
    outline: none;
    height: 100px;
    transition: height $transition ease-in-out;
    white-space: pre;
    &.expanded {
      height: 55vh;
    }
  }

  .error-viewer-buttons {
    display: flex;
    flex-direction: row;
    gap: 1px;
    position: absolute;
    bottom: $spacer-2;
    right: $grid-gutter-width * 0.5;

    .btn-danger {
      color: $black;
      opacity: 0.8;
      padding: $spacer-1;
      &:active {
        color: $black;
      }
    }

    .error-viewer-copy-button {
      border-radius: 0;
      min-width: 3rem;
    }

    .error-viewer-expand-button {
      border-radius: 0 0 $border-radius 0;
      svg {
        margin-right: $spacer-1;
      }
    }
  }
}
